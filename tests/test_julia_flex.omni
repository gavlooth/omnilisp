;; Julia-level Flexibility and Implicit Any Tests
;; NOTE: Error handling will use algebraic effects (not try/catch)

(println "--- Testing Implicit Any ---")
(define x 10)
(println "Implicit Any (Int): " x)
(set! x "now a string")
(println "Implicit Any (String): " x)

(println "\n--- Testing Typed define ---")
(define y {Int} 100)
(println "Typed Int: " y)

;; Type enforcement errors will be handled via algebraic effects
;; For now, skip type mismatch tests

(println "\n--- Testing Function Type Enforcement ---")
(define (add-ints x {Int} y {Int}) {Int}
  (+ x y))

(println "add-ints (10 20): " (add-ints 10 20))

;; Type mismatch tests removed - will use algebraic effects

(println "\n--- Testing Julia-style Flex (Implicit Any in params) ---")
(define (flex-add a b)
  (+ a b))

(println "Flex add (ints): " (flex-add 5 5))
(println "Flex add (floats): " (flex-add 1.5 2.5))

(println "\nSUCCESS: Julia flexibility verified.")
